<!DOCTYPE html>
<html>
  <head>
    <title>Web Storage World</title>
    <style>
      .contents {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        border: 2px solid black;
        padding: 15px;
      }

      #generateButton {
        margin-top: 5px;
        margin-bottom: 15px;
      }
    </style>
  </head>
  <body>
    <div class="contents" align="center">
      <button id="incrementButton">Tambah nilai</button>
      <button id="clear">Hapus storage</button>
      <h3>Kamu sudah menekan tombol di atas sebanyak:</h3>
      <h2 id="count">0</h2>
    </div>

    <script>
      // tangkap element/ property pada localS
      const getProperty = "nilai";

      // buat sebuah kondisi jika local bernilai undefined
      if (typeof Storage !== "undefined") {
        // // buat kondisi lagi jika local bernilai null dan set nilai propertynya
        // if (localStorage.getItem(getProperty) === null) {
        //   // Jika item pada local storage belum ada
        //   // maka akan diberi nilai awal yakni 0
        //   alert("data kosong");
        //   localStorage.setItem(getProperty, 0);
        // }

        const countDisplay = document.querySelector("#count");

        // memberikan nilai item dari local storage
        countDisplay.innerText = localStorage.getItem(getProperty);

        // tangkap element tombol
        const getBtn1 = document.getElementById("incrementButton");
        const getBtn2 = document.getElementById("clear");
        //nilai yang ditampilkan harus berdasarkan data pada local
        document.getElementById("count").innerText = localStorage.getItem(getProperty);

        // beri event pada tombol ketika di click
        getBtn1.addEventListener("click", () => {
          let count = localStorage.getItem(getProperty);
          count++;
          console.log(`Anda Meng-Click Sebanyak : ${count}`);
          localStorage.setItem(getProperty, count);
          countDisplay.innerText = localStorage.getItem(getProperty);
        });

        getBtn2.addEventListener("click", () => {
          localStorage.removeItem(getProperty);
          console.log(`Anda Meng-Click Sebanyak : ${localStorage.getItem(getProperty)}`);
          countDisplay.innerText = 0;
        });
        // beri event pada tombol ketika di hapus
      } else {
        alert("Browser yang Anda gunakan tidak mendukung Web Storage");
      }
    </script>
  </body>
</html>
